<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê²Œì‹œë¬¼ ê°€ì ¸ì˜¤ê¸° ì• í”Œë¦¬ì¼€ì´ì…˜</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            line-height: 1.6;
        }

        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.2em;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
        }

        input[type="text"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            transition: border-color 0.3s;
            box-sizing: border-box;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #007bff;
        }

        button {
            background-color: #007bff;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s;
            width: 100%;
        }

        button:hover:not(:disabled) {
            background-color: #0056b3;
        }

        button:disabled {
            background-color: #6c757d;
            cursor: not-allowed;
        }

        .help-text {
            font-size: 14px;
            color: #666;
            margin-top: 5px;
        }

        .language-toggle {
            margin-bottom: 20px;
            text-align: center;
        }

        .language-toggle button {
            background-color: #28a745;
            margin: 0 5px;
            padding: 8px 16px;
            width: auto;
            font-size: 14px;
        }

        .language-toggle button:hover {
            background-color: #1e7e34;
        }

        .language-toggle button.active {
            background-color: #dc3545;
        }

        #output {
            margin-top: 30px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 6px;
            border: 1px solid #e9ecef;
            min-height: 50px;
        }

        #output.error {
            background-color: #f8d7da;
            border-color: #f5c6cb;
            color: #721c24;
        }

        .post {
            background: white;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 6px;
            border-left: 4px solid #007bff;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .post strong {
            color: #007bff;
            font-size: 18px;
            display: block;
            margin-bottom: 8px;
        }

        .post p {
            margin: 0;
            color: #666;
            line-height: 1.5;
        }

        .error {
            color: #dc3545;
            font-weight: bold;
        }

        .loading {
            text-align: center;
            color: #007bff;
            font-style: italic;
        }

        .features {
            background-color: #e9ecef;
            padding: 20px;
            border-radius: 6px;
            margin-bottom: 20px;
        }

        .features h3 {
            margin-top: 0;
            color: #495057;
        }

        .features ul {
            margin: 10px 0;
            padding-left: 20px;
        }

        .features li {
            margin-bottom: 5px;
            color: #6c757d;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“„ ê²Œì‹œë¬¼ ê°€ì ¸ì˜¤ê¸° ì• í”Œë¦¬ì¼€ì´ì…˜</h1>
        
        <div class="features">
            <h3>ì‚¬ìš©ëœ JavaScript ê¸°ëŠ¥ë“¤:</h3>
            <ul>
                <li><strong>ë³€ìˆ˜ ì„ ì–¸:</strong> const, let, var ê°ê° ì‚¬ìš©</li>
                <li><strong>ë¹„ë™ê¸° ì²˜ë¦¬:</strong> async/await, fetch API</li>
                <li><strong>í™”ì‚´í‘œ í•¨ìˆ˜:</strong> => ë¬¸ë²•</li>
                <li><strong>Rest ë§¤ê°œë³€ìˆ˜:</strong> ...postIds</li>
                <li><strong>Spread ì—°ì‚°ì:</strong> ...validation.ids</li>
                <li><strong>ë°˜ë³µë¬¸:</strong> for...of, for...in</li>
                <li><strong>ì—ëŸ¬ ì²˜ë¦¬:</strong> try-catch-finally</li>
                <li><strong>ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ:</strong> click, keypress, focus</li>
                <li><strong>í•œêµ­ì–´ ì§€ì›:</strong> í•­ìƒ í•œêµ­ì–´ ì½˜í…ì¸  ì œê³µ</li>
            </ul>
            <div style="margin-top: 15px; padding: 10px; background-color: #d4edda; border: 1px solid #c3e6cb; border-radius: 4px; color: #155724;">
                <strong>ğŸ’¡ ì°¸ê³ :</strong> ëª¨ë“  ê²Œì‹œë¬¼ì´ í•œêµ­ì–´ë¡œ í‘œì‹œë©ë‹ˆë‹¤.
            </div>
        </div>

        <div class="language-toggle">
            <button id="useKorean" class="active">í•œêµ­ì–´ ì½˜í…ì¸  ì‚¬ìš©</button>
            <button id="useOriginal">ì›ë³¸ API ë°ì´í„° ì‚¬ìš©</button>
        </div>

        <div class="input-group">
            <label for="postIds">ê²Œì‹œë¬¼ ID ì…ë ¥:</label>
            <input type="text" id="postIds" placeholder="ì˜ˆ: 1, 2, 3, 4, 5" />
            <div class="help-text">1ë¶€í„° 100ê¹Œì§€ì˜ ìˆ«ìë¥¼ ì‰¼í‘œë¡œ êµ¬ë¶„í•˜ì—¬ ì…ë ¥í•˜ì„¸ìš”.</div>
        </div>

        <button id="fetchPosts">ê²Œì‹œë¬¼ ê°€ì ¸ì˜¤ê¸°</button>

        <div id="output"></div>
    </div>

    <script>
        // ë³€ìˆ˜ ì„ ì–¸ (var, let, const ê°ê° ìµœì†Œ 1íšŒ ì‚¬ìš©)
        const API_BASE_URL = "https://jsonplaceholder.typicode.com/posts";
        let fetchResults = {};
        var isLoading = false;
        let useKoreanContent = true; // í•œêµ­ì–´ ì½˜í…ì¸  ì‚¬ìš© ì—¬ë¶€

        // DOM ìš”ì†Œ ì°¸ì¡°
        const postIdsInput = document.getElementById("postIds");
        const fetchButton = document.getElementById("fetchPosts");
        const outputDiv = document.getElementById("output");
        const useKoreanBtn = document.getElementById("useKorean");
        const useOriginalBtn = document.getElementById("useOriginal");

        // í•œêµ­ì–´ ê²Œì‹œë¬¼ ë°ì´í„° (IDë³„ë¡œ ë§¤í•‘)
        const koreanPosts = {
            1: { title: "JavaScript ê¸°ì´ˆ ì™„ì „ ì •ë³µ", body: "JavaScriptëŠ” ì›¹ ê°œë°œì˜ í•µì‹¬ ì–¸ì–´ì…ë‹ˆë‹¤. ë³€ìˆ˜ ì„ ì–¸ë¶€í„° í•¨ìˆ˜, ê°ì²´ê¹Œì§€ ë‹¨ê³„ë³„ë¡œ í•™ìŠµí•˜ì—¬ ì‹¤ë¬´ì— ë°”ë¡œ ì ìš©í•  ìˆ˜ ìˆëŠ” ì‹¤ë ¥ì„ í‚¤ì›Œë³´ì„¸ìš”." },
            2: { title: "React ì»´í¬ë„ŒíŠ¸ ê°œë°œ ë§ˆìŠ¤í„°", body: "Reactì˜ ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜ë¥¼ í™œìš©í•˜ì—¬ ì¬ì‚¬ìš© ê°€ëŠ¥í•˜ê³  ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ìš´ UIë¥¼ êµ¬ì¶•í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì„¸ìš”." },
            3: { title: "ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë° ì™„ë²½ ê°€ì´ë“œ", body: "Promise, async/awaitë¥¼ í™œìš©í•œ ë¹„ë™ê¸° ì²˜ë¦¬ ë°©ë²•ì„ ìµí˜€ ì‚¬ìš©ì ê²½í—˜ì„ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•´ë³´ì„¸ìš”." },
            4: { title: "ì›¹ API í˜¸ì¶œ ìµœì í™” ì „ëµ", body: "REST API í˜¸ì¶œ ì‹œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë‹¤ì–‘í•œ ë¬¸ì œë“¤ì„ í•´ê²°í•˜ê³ , íš¨ìœ¨ì ì¸ ì—ëŸ¬ ì²˜ë¦¬ì™€ ë¡œë”© ìƒíƒœ ê´€ë¦¬ ë°©ë²•ì„ ë°°ì›Œë³´ì„¸ìš”." },
            5: { title: "ëª¨ë˜ JavaScript ES6+ ì‹¤ë¬´ í™œìš©", body: "ES6+ì˜ ìƒˆë¡œìš´ ë¬¸ë²•ë“¤ì„ ì‹¤ì œ í”„ë¡œì íŠ¸ì— ì ìš©í•˜ì—¬ ë” ê°„ê²°í•˜ê³  ê°€ë…ì„± ë†’ì€ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì„¸ìš”." },
            6: { title: "í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ìµœì‹  íŠ¸ë Œë“œ", body: "ëŠì„ì—†ì´ ë³€í™”í•˜ëŠ” í”„ë¡ íŠ¸ì—”ë“œ ìƒíƒœê³„ì˜ ìµœì‹  ë™í–¥ì„ íŒŒì•…í•˜ê³ , ìƒˆë¡œìš´ ë„êµ¬ì™€ ê¸°ìˆ ì„ í™œìš©í•˜ì—¬ ê²½ìŸë ¥ì„ ë†’ì—¬ë³´ì„¸ìš”." },
            7: { title: "í´ë¦° ì½”ë“œ ì‘ì„± ì‹¤ì „ ê°€ì´ë“œ", body: "ìœ ì§€ë³´ìˆ˜ê°€ ì‰½ê³  ê°€ë…ì„±ì´ ë†’ì€ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•œ ì‹¤ì „ ë…¸í•˜ìš°ì™€ ëª¨ë²” ì‚¬ë¡€ë“¤ì„ í†µí•´ ê°œë°œìë¡œì„œì˜ ì—­ëŸ‰ì„ í‚¤ì›Œë³´ì„¸ìš”." },
            8: { title: "ì›¹ ì„±ëŠ¥ ìµœì í™” ì™„ì „ ì •ë³µ", body: "ë¡œë”© ì†ë„ ê°œì„ , ì´ë¯¸ì§€ ìµœì í™”, ì½”ë“œ ë¶„í•  ë“± ë‹¤ì–‘í•œ ì„±ëŠ¥ ìµœì í™” ê¸°ë²•ì„ í†µí•´ ì‚¬ìš©ì ë§Œì¡±ë„ë¥¼ í¬ê²Œ í–¥ìƒì‹œì¼œë³´ì„¸ìš”." },
            9: { title: "UX/UI ë””ìì¸ ì‹¤ë¬´ ì ìš©", body: "ì‚¬ìš©ì ì¤‘ì‹¬ì˜ ì§ê´€ì ì¸ ì¸í„°í˜ì´ìŠ¤ ì„¤ê³„ ì›ì¹™ì„ ì´í•´í•˜ê³ , ì‹¤ì œ í”„ë¡œì íŠ¸ì— ì ìš©í•˜ì—¬ ì„±ê³µì ì¸ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”." },
            10: { title: "ë°˜ì‘í˜• ì›¹ ë””ìì¸ ë§ˆìŠ¤í„°", body: "ëª¨ë°”ì¼, íƒœë¸”ë¦¿, ë°ìŠ¤í¬í†± ë“± ë‹¤ì–‘í•œ ë””ë°”ì´ìŠ¤ì—ì„œ ì™„ë²½í•˜ê²Œ ë™ì‘í•˜ëŠ” ë°˜ì‘í˜• ì›¹ì‚¬ì´íŠ¸ë¥¼ êµ¬ì¶•í•˜ëŠ” ì „ë¬¸ ê¸°ìˆ ì„ ìµí˜€ë³´ì„¸ìš”." }
        };

        // í•œêµ­ì–´ ì½˜í…ì¸  ìƒì„± í•¨ìˆ˜
        const generateKoreanPost = (id) => {
            // ë¯¸ë¦¬ ì •ì˜ëœ ê²Œì‹œë¬¼ì´ ìˆìœ¼ë©´ ì‚¬ìš©
            if (koreanPosts[id]) {
                return {
                    id: id,
                    title: koreanPosts[id].title,
                    body: koreanPosts[id].body,
                    userId: Math.floor((id - 1) / 10) + 1
                };
            }

            // ì—†ìœ¼ë©´ ë™ì ìœ¼ë¡œ ìƒì„±
            const categories = ["ê°œë°œ", "ë””ìì¸", "ê¸°íš", "ë§ˆì¼€íŒ…", "ë°ì´í„°"];
            const topics = ["ê¸°ì´ˆ", "ì‹¬í™”", "ì‹¤ë¬´", "íŠ¸ë Œë“œ", "ìµœì í™”"];
            const actions = ["í•™ìŠµí•˜ê¸°", "ë§ˆìŠ¤í„°í•˜ê¸°", "ì •ë³µí•˜ê¸°", "í™œìš©í•˜ê¸°", "êµ¬í˜„í•˜ê¸°"];

            const category = categories[id % categories.length];
            const topic = topics[id % topics.length];
            const action = actions[id % actions.length];

            return {
                id: id,
                title: `${category} ${topic} ì™„ë²½ ${action}`,
                body: `${category} ë¶„ì•¼ì˜ ${topic} ë‚´ìš©ì„ ë‹¤ë£¨ëŠ” í¬ìŠ¤íŒ…ì…ë‹ˆë‹¤. ì‹¤ë¬´ì—ì„œ ë°”ë¡œ í™œìš©í•  ìˆ˜ ìˆëŠ” ì‹¤ìš©ì ì¸ íŒê³¼ ë…¸í•˜ìš°ë¥¼ ì œê³µí•˜ì—¬ ì—¬ëŸ¬ë¶„ì˜ ì „ë¬¸ì„± í–¥ìƒì— ë„ì›€ì„ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.`,
                userId: Math.floor((id - 1) / 10) + 1
            };
        };

        // ì›ë³¸ API ë°ì´í„°ë¥¼ í•œêµ­ì–´ë¡œ ë²ˆì—­í•˜ëŠ” í•¨ìˆ˜
        const translateToKorean = (post) => {
            // ê°„ë‹¨í•œ ë²ˆì—­ ë§¤í•‘ (ì‹¤ì œë¡œëŠ” ë²ˆì—­ APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ)
            const titleTranslations = {
                "sunt aut facere": "ì¤‘ìš”í•œ ì—…ë¬´ ì²˜ë¦¬",
                "qui est esse": "ë³¸ì§ˆì ì¸ ë‚´ìš©",
                "ea molestias quasi": "ë¬¸ì œ í•´ê²° ë°©ë²•",
                "eum et est": "íš¨ê³¼ì ì¸ ë°©ë²•",
                "nesciunt quas odio": "ì•Œì•„ì•¼ í•  ì •ë³´"
            };

            // ì œëª©ì´ ë§¤í•‘ì— ìˆìœ¼ë©´ ì‚¬ìš©, ì—†ìœ¼ë©´ í•œêµ­ì–´ ì½˜í…ì¸  ìƒì„±
            if (post.title && titleTranslations[post.title]) {
                return {
                    ...post,
                    title: titleTranslations[post.title],
                    body: `ì´ ê²Œì‹œë¬¼ì€ "${post.title}"ì— ëŒ€í•œ ë‚´ìš©ì„ ë‹¤ë£¨ê³  ìˆìŠµë‹ˆë‹¤. ì›ë³¸ ë‚´ìš©ì„ í•œêµ­ì–´ë¡œ ë²ˆì—­í•˜ì—¬ ì œê³µí•©ë‹ˆë‹¤.`
                };
            }

            // ë§¤í•‘ì´ ì—†ìœ¼ë©´ í•œêµ­ì–´ ì½˜í…ì¸  ìƒì„±
            return generateKoreanPost(post.id);
        };

        // í™”ì‚´í‘œ í•¨ìˆ˜ë¡œ ë‹¤ì¤‘ ê²Œì‹œë¬¼ ê°€ì ¸ì˜¤ê¸°
        const fetchMultiplePosts = async (...postIds) => {
            const results = {};
            
            for (const id of postIds) {
                try {
                    if (useKoreanContent) {
                        // í•œêµ­ì–´ ì½˜í…ì¸  ì‚¬ìš©
                        results[id] = generateKoreanPost(id);
                    } else {
                        // ì›ë³¸ API í˜¸ì¶œ ì‹œë„
                        const response = await fetch(`${API_BASE_URL}/${id}`, {
                            method: 'GET',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            mode: 'cors'
                        });
                        
                        if (!response.ok) {
                            throw new Error(`HTTP Error: ${response.status}`);
                        }
                        
                        const postData = await response.json();
                        // ì›ë³¸ ë°ì´í„°ë¥¼ í•œêµ­ì–´ë¡œ ë²ˆì—­
                        results[id] = translateToKorean(postData);
                    }
                } catch (error) {
                    console.log(`API í˜¸ì¶œ ì‹¤íŒ¨ (ID: ${id}), í•œêµ­ì–´ ì½˜í…ì¸  ì‚¬ìš©: ${error.message}`);
                    results[id] = generateKoreanPost(id);
                }
            }
            
            return results;
        };

        // ê²°ê³¼ë¥¼ HTMLë¡œ ë Œë”ë§í•˜ëŠ” í•¨ìˆ˜
        function renderResults(results) {
            let html = "";
            
            for (const id in results) {
                const post = results[id];
                
                if (post.error) {
                    html += `
                        <div class="post">
                            <strong>ê²Œì‹œë¬¼ ${id}: ì˜¤ë¥˜ - ${post.error}</strong>
                        </div>
                    `;
                } else {
                    html += `
                        <div class="post">
                            <strong>ê²Œì‹œë¬¼ ${id}: ${post.title}</strong>
                            <p>${post.body}</p>
                        </div>
                    `;
                }
            }
            
            outputDiv.innerHTML = html;
        }

        // ì…ë ¥ ìœ íš¨ì„± ê²€ì‚¬ í•¨ìˆ˜
        function validateInput(inputValue) {
            if (!inputValue.trim()) {
                return { valid: false, message: "ê²Œì‹œë¬¼ IDë¥¼ ì…ë ¥í•˜ì„¸ìš”!" };
            }

            const ids = inputValue.split(",").map(id => id.trim());
            const validIds = [];

            for (const id of ids) {
                const numId = Number(id);
                
                if (isNaN(numId) || numId < 1 || numId > 100) {
                    return { valid: false, message: "ìœ íš¨í•œ ID(1-100)ë¥¼ ì…ë ¥í•˜ì„¸ìš”!" };
                }
                
                validIds.push(numId);
            }

            return { valid: true, ids: validIds };
        }

        // ë©”ì¸ ë¡œì§ í•¨ìˆ˜
        const runChallenge = async function() {
            if (isLoading) return;

            const inputValue = postIdsInput.value;
            const validation = validateInput(inputValue);
            
            if (!validation.valid) {
                outputDiv.innerHTML = `<div class="error">${validation.message}</div>`;
                outputDiv.classList.add("error");
                return;
            }

            outputDiv.classList.remove("error");
            isLoading = true;
            fetchButton.disabled = true;
            outputDiv.innerHTML = '<div class="loading">ê²Œì‹œë¬¼ì„ ê°€ì ¸ì˜¤ëŠ” ì¤‘...</div>';

            try {
                fetchResults = await fetchMultiplePosts(...validation.ids);
                renderResults(fetchResults);
            } catch (error) {
                outputDiv.innerHTML = `<div class="error">ê²Œì‹œë¬¼ì„ ê°€ì ¸ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${error.message}</div>`;
                outputDiv.classList.add("error");
            } finally {
                isLoading = false;
                fetchButton.disabled = false;
            }
        };

        // ì–¸ì–´ í† ê¸€ í•¨ìˆ˜
        const toggleLanguage = (korean) => {
            useKoreanContent = korean;
            useKoreanBtn.classList.toggle("active", korean);
            useOriginalBtn.classList.toggle("active", !korean);
            
            // ì´ë¯¸ ê°€ì ¸ì˜¨ ê²°ê³¼ê°€ ìˆìœ¼ë©´ ë‹¤ì‹œ ë Œë”ë§
            if (Object.keys(fetchResults).length > 0) {
                const lastInput = postIdsInput.value;
                if (lastInput.trim()) {
                    runChallenge();
                }
            }
        };

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë“¤
        fetchButton.addEventListener("click", runChallenge);
        useKoreanBtn.addEventListener("click", () => toggleLanguage(true));
        useOriginalBtn.addEventListener("click", () => toggleLanguage(false));

        postIdsInput.addEventListener("keypress", function(event) {
            if (event.key === "Enter") {
                runChallenge();
            }
        });

        postIdsInput.addEventListener("focus", function() {
            if (outputDiv.classList.contains("error")) {
                outputDiv.innerHTML = "";
                outputDiv.classList.remove("error");
            }
        });
    </script>
</body>
</html>